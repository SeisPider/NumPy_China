# NumPy简介

## NumPy特点
NumPy是Python科学计算包中的基础包，其最主要贡献在于定义了多维数组（**ndarray**）对象及一些由此导出的对象(
例如假面对象（**masked arrays**）和矩阵（**matrices**）)。NumPy给出了一系列对数组进行快捷操作可用程序，涉及算术运算、逻辑运算、形状调整、排序、选择、输入输出、离散傅里叶变换、线性代数、统计和随机模拟等诸多运算。

NumPy最核心的对象是 **ndarray**，实质是数据格式一致的多维数组。其与标准python数组存在如下差异：

* NumPy数组大小自创建后便固定下来，python中的list的可以动态变化的。利用NumPy函数改变数组大小的实质是创建了一个新的数组并将原数组删除了。
* NumPy数组中的元素的数据类型是相同的，并且各元素占用同样大小的内存。
* NumPy数组集成并封装了较多高效的数学操作，使得用户可以用较少的代码写出更高效的可执行脚本。
*  越来越多的供科学计算使用的python包在使用NumPy数组。

## NumPy优势
科学计算中，程序长度和运行速度都比较重要。下面以$$a \cdot b$$作为例子阐述NumPy在计算速度和程序简洁性上的双重优势。
* 以Python原生序列计算：
```python
c = []
for i in range(len(a)):
      c.append(a[i]*b[i])
```
当$$a,b$$元素较少时无法感觉出差别，但当数组元素达到百万级别呢？Python代码将浪费诸多时间在低效的循环操作上。
* 以C计算（忽略变量说明，内存分配等）：
```
for (i = 0; i < rows; i++):{
      c[i] = a[i] * b[i];
}
```
C代码中省略了Python动态解释代码和对Python对象进行操作的步骤，有效提高了运行时间。但，编写代码的时间成本随着数组维数的增加而不断增大。譬如，二维数组点积的代码为：
```
for (i = 0; i < rows; i++): {
    for (j = 0; j < columns; j++): {
        c[i][j] = a[i][j]*b[i][j];
        }
}
```
* 对于NumPy而言，上述点积可写为：
```
c = a * b
```
该写法类似于MatLab，但运行速度更快。NumPy以C进行预编译并封装了操作。因此，以上的例子说明NumPy可以比Python更为简洁的代码写出运行速度与C接近的程序。NumPy的优势源自于代码的向量化和可扩展性。

向量化表明代码本身便包含了循环和索引等，NumPy内部早已对这些操作进行了优化处理，用户无需考虑。矢量化还有如下特点
* 矢量化的代码更加精确和易读。
* 更少的代码意味着更少的bug。
* 代码更加接近于数学表达式。
* 代码免去了很多for循环操作，更加符合Python的价值观。

可扩展性意味着NumPy默认操作是对矢量中的元素进行的。在上面的例子中，$$a,b$$的维度可以相同也可以不同。NumPy默认会将较小的向量的维度扩展到与较大的向量维度一致。
